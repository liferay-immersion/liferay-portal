definition {

	macro assertDropdownSelection {
		var key_option = "${option}";

		AssertVisible(locator1 = "CP2ActivationKeys#DROPDOWN");
	}

	macro assertInstructionsTable {
		for (var text : list "${textList}") {
			var key_text = "${text}";

			AssertVisible(locator1 = "CP2ActivationKeys#RESPONSIVE_TABLE");
		}
	}

	macro exportAllKeyDetails {
		Click(
			key_text = "Actions",
			locator1 = "Button#ANY");

		Click(
			key_action = "Export All Key Details (csv)",
			locator1 = "CP2ActivationKeys#ACTIONS_DROPDOWN");

		Alert.viewSuccessMessage();

		CP2FileUtil.assertDownloadedFileIsPresent(downloadedFileName = "${fileName}");
	}

	macro assertDropdownItemIsVisible {
		var key_dropdownItem = "${dropdownItem}";
		AssertVisible(locator1 = "CP2ActivationKeys#DROPDOWN_ITEM_BUTTON");
	}

	macro assertDropdownItemIsDisabled{
		var key_dropdownItem = "${dropdownItem}";
		AssertElementPresent(locator1 = "CP2ActivationKeys#DISABLED_DROPDOWN_ITEM_BUTTON");
	}

	macro assertDropdownItemIsEnabled{
		var key_dropdownItem = "${dropdownItem}";
		AssertElementPresent(locator1 = "CP2ActivationKeys#ENABLED_DROPDOWN_ITEM_BUTTON");
	}

	macro clickAtDropdownItem {
		var key_dropdownItem = "${dropdownItem}";
		Click(locator1 = "CP2ActivationKeys#DROPDOWN_ITEM_BUTTON");
	}

	macro selectKeyCheckboxByEnvironmentName {
		var key_environmentName = "${environmentName}";
		Check(locator1 = "CP2ActivationKeys#KEY_CHECKBOX");
	}

	macro selectKeyCheckboxByExpirationDate {
		var key_position = "${position}";
		var key_date = "${date}";
		Check(locator1 = "CP2ActivationKeys#KEY_CHECKBOX_BY_EXPIRATION_DATE");
	}

	macro formatLicenseFileName {
		if(!(isSet(licenseType))) {
			var licenseType = "";
		} else {
			var licenseType = "${licenseType}-";
		}
		if(!(isSet(product))) {
			var product = "";
		} else {
			var product = "${product}-";
		}
		if(!(isSet(version))) {
			var version = "";
		}else {
			var version = "${version}-";
		}
		if(!(isSet(licenseName))) {
			var licenseName = "";
		}
		if(!(isSet(copy))) {
			var copy = "";
		} else {
			var copy = " (${copy})";
		}

		var downloadedFileName = "${licenseType}${product}${version}${licenseName}";

		var downloadedFileName = StringUtil.toLowerCase("${downloadedFileName}");

		var downloadedFileName = StringUtil.replace("${downloadedFileName}", " ", "");

		var downloadedFileName = "${downloadedFileName}${copy}.${fileType}";

		echo("Expected file name: ${downloadedFileName}");

		return "${downloadedFileName}";
	}

	macro filterKeyTable {
		var key_filterOption = "${filterOption}";

		CustomerPortal.clickAtButton(text = "Filter");

		CP2ActivationKeys.clickAtDropdownItem(key_dropdownItem = "${filterType}");
		
		Check.checkNotVisible(locator1 = "CP2ActivationKeys#FILTER_CHECKBOX");

		CustomerPortal.clickAtButton(text = "Apply");
	}

}