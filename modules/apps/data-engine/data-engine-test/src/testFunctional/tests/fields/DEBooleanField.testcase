@component-name = "data-engine"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Data Engine";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		JSONGroup.addGroup(groupName = "Test Site Name");

		WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			JSONGroup.deleteGroupByName(groupName = "Test Site Name");
		}
	}

	@description = "Verify that a structure with the boolean field can be created."
	@priority = "5"
	test CanBeCreated {

		property portal.acceptance = "true";
		

		NavItem.gotoStructures();

		WebContentStructures.addCP(structureName = "Structure 1");

		DEBuilder.addField(
			fieldLabel = "Boolean",
			fieldName = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Structure 1");

		FormFields.viewBooleanField(fieldValue = "Boolean");

	}

	@description = "Verify that a structure with the boolean field can be deleted."
	@priority = "5"
	test CanBeDeleted {
		property portal.acceptance = "true";

		NavItem.gotoStructures();

		WebContentStructures.addCP(structureName = "Boolean Structure");

		DataEngine.addField(
			fieldFieldLabel = "Boolean",
			fieldName = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		DataEngine.addField(
			fieldFieldLabel = "Numeric",
			fieldName = "Numeric");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Boolean Structure");

		Click(
			key_text = "Boolean",
			locator1 = "Icon#ANY_VERTICAL_ELLIPSIS");

		MenuItem.click(menuItem = "Delete");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Boolean Structure");

		DataEngine.assertFieldNotPresent(fieldFieldLabel = "Boolean");
	}

	@description = "Verify that a structure with the boolean field can be duplicated."
	@priority = "5"
	test CanBeDuplicated {
		property portal.acceptance = "true";
		

		NavItem.gotoStructures();

		WebContentStructures.addCP(structureName = "Structure 1");

		DEBuilder.addField(
			fieldLabel = "Boolean",
			fieldName = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		DEBuilder.editHelpTextField(
			fieldHelpText = "Help Text Test",
			fieldLabel = "Help Text");

		DataEngine.duplicate(fieldsGroupLabel = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Copy of Boolean");

		FormViewBuilder.assertHelpTextPresent(
			fieldName = "Boolean",
			fieldValue = "Help Text Test");

		FormViewBuilder.assertHelpTextPresent(
			fieldName = "Copy of Boolean",
			fieldValue = "Help Text Test");
	}

	@description = "Verify that a structure with the boolean field can be edited."
	@priority = "5"
	test CanBeEdited {
		property portal.acceptance = "true";

		NavItem.gotoStructures();

		WebContentStructures.addCP(structureName = "Structure 1");

		DEBuilder.addField(
			fieldLabel = "Boolean",
			fieldName = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Structure 1");

		DataEngine.editFieldLabel(
			fieldFieldLabel = "Boolean",
			fieldFieldLabelEdit = "Test Boolean Field");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Structure 1");

		FormFields.viewBooleanField(fieldValue = "Test Boolean Field");
	}


	@description = "Verify that the boolean field can have its label edited."
	@priority = "5"
	test LabelCanBeEdited {
		property portal.acceptance = "true";

		NavItem.gotoStructures();

		WebContentStructures.addCP(structureName = "Structure 1");

		DEBuilder.addField(
			fieldLabel = "Boolean",
			fieldName = "Boolean");

		FormFields.viewBooleanField(fieldValue = "Boolean");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Structure 1");

		DataEngine.editFieldLabel(
			fieldFieldLabel = "Boolean",
			fieldFieldLabelEdit = "Test Boolean Field");

		FormFields.viewBooleanField(fieldValue = "Test Boolean Field");

		WebContentStructures.saveCP();

		WebContentNavigator.gotoEditStructure(structureName = "Structure 1");

		FormFields.viewBooleanField(fieldValue = "Test Boolean Field");
	}

}